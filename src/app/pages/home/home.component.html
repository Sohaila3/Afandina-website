<main class="home">
  <section class="hero_section" *ngIf="headerSection">
    <!-- Social Icons with Modern Design -->

    <div class="social-icons-modern" *ngIf="headerSection.social_media_links">
      <div class="social-icon-wrapper">
        <a
          [href]="headerSection.social_media_links.facebook"
          target="_blank"
          [title]="'Follow us on Facebook'"
          class="social-link"
        >
          <i class="fab fa-facebook-f"></i>
        </a>
      </div>
      <div class="social-icon-wrapper">
        <a
          [href]="headerSection.social_media_links.instagram"
          target="_blank"
          [title]="'Follow us on Instagram'"
          class="social-link"
        >
          <i class="fab fa-instagram"></i>
        </a>
      </div>
      <div class="social-icon-wrapper">
        <a
          [href]="headerSection.social_media_links.twitter"
          target="_blank"
          [title]="'Follow us on Twitter'"
          class="social-link"
        >
          <i class="fab fa-twitter"></i>
        </a>
      </div>
      <div class="social-icon-wrapper">
        <a
          [href]="headerSection.social_media_links.snapchat"
          target="_blank"
          [title]="'Follow us on Snapchat'"
          class="social-link"
        >
          <i class="fa-brands fa-snapchat"></i>
        </a>
      </div>
    </div>

    <!-- Hero Swiper -->
    <swiper
      #heroSwiper
      [config]="heroSwiperConfig"
      class="hero-swiper"
      (slideChange)="onSlideChange($event)"
    >
      <ng-template swiperSlide *ngFor="let slide of heroSlides; let i = index">
        <div class="hero-slide">
          <!-- Media Container -->
          <div class="hero-media-wrapper">
            <!-- Video -->
            <video
              *ngIf="slide.media_type === 'video'"
              [src]="slide.video_path"
              autoplay
              [muted]="true"
              loop
              playsinline
              preload="metadata"
              class="hero-media"
            ></video>

            <!-- Image with Parallax Effect -->
            <div
              *ngIf="slide.media_type === 'image'"
              class="hero-image-container"
            >
              <img
                [src]="slide.image_path"
                [alt]="slide.title || 'Afandina Car Rental'"
                class="hero-media parallax-image"
                loading="eager"
                [attr.fetchpriority]="i === 0 ? 'high' : 'auto'"
              />
            </div>

            <!-- Gradient Overlay -->
            <div class="gradient-overlay"></div>
            <div class="gradient-overlay-secondary"></div>
          </div>

          <!-- Content Container with Glassmorphism -->
          <div class="hero-content">
            <div class="content-wrapper">
              <div class="content-badge" *ngIf="slide.badge">
                <span class="badge-text">{{ slide.badge }}</span>
              </div>

              <!-- show whole title on one line (don't split per word) -->
              <h1 class="hero-title" *ngIf="slide.title">{{ slide.title }}</h1>

              <p class="hero-description" *ngIf="slide.description">
                {{ slide.description }}
              </p>

              <div class="hero-actions" *ngIf="slide.show_cta">
                <button class="cta-primary">
                  <span>{{
                    translations["explore_cars"] || "Explore Cars"
                  }}</span>
                  <i class="fas fa-arrow-right"></i>
                </button>
                <button class="cta-secondary">
                  <span>{{ translations["learn_more"] || "Learn More" }}</span>
                </button>
              </div>

              <!-- Stats Cards -->
              <div class="stats-cards" *ngIf="slide.show_stats">
                <div class="stat-card">
                  <div class="stat-icon">
                    <i class="fas fa-car"></i>
                  </div>
                  <div class="stat-content">
                    <span class="stat-number">500+</span>
                    <span class="stat-label">{{
                      translations["cars_available"] || "Cars Available"
                    }}</span>
                  </div>
                </div>
                <div class="stat-card">
                  <div class="stat-icon">
                    <i class="fas fa-users"></i>
                  </div>
                  <div class="stat-content">
                    <span class="stat-number">10K+</span>
                    <span class="stat-label">{{
                      translations["happy_clients"] || "Happy Clients"
                    }}</span>
                  </div>
                </div>
                <div class="stat-card">
                  <div class="stat-icon">
                    <i class="fas fa-star"></i>
                  </div>
                  <div class="stat-content">
                    <span class="stat-number">4.9</span>
                    <span class="stat-label">{{
                      translations["rating"] || "Rating"
                    }}</span>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <!-- Scroll Indicator -->
          <div class="scroll-indicator" *ngIf="i === 0">
            <div class="scroll-text">
              {{ translations["scroll_down"] || "Scroll Down" }}
            </div>
            <div class="scroll-line"></div>
          </div>
        </div>
      </ng-template>
    </swiper>

    <!-- Custom Navigation -->
    <div class="hero-navigation">
      <button class="nav-button nav-prev" (click)="previousSlide()">
        <i class="fas fa-chevron-left"></i>
      </button>
      <div class="nav-pagination">
        <span
          class="pagination-dot"
          *ngFor="let slide of heroSlides; let i = index"
          [class.active]="i === currentSlideIndex"
          (click)="goToSlide(i)"
        ></span>
      </div>
      <button class="nav-button nav-next" (click)="nextSlide()">
        <i class="fas fa-chevron-right"></i>
      </button>
    </div>

    <!-- Floating Elements for Extra Visual Interest -->
    <div class="floating-shapes">
      <div class="shape shape-1"></div>
      <div class="shape shape-2"></div>
      <div class="shape shape-3"></div>
    </div>
  </section>

  <section class="cars_type py-4 pt-3" *ngIf="categoriesSection">
    <div class="container-fluid">
      <div class="head d-flex align-items-center justify-content-between">
        <h2>{{ categoriesSection.section_title }}</h2>
        <div class="buttons">
          <button
            class="custom-prev-arrow"
            (click)="carsTypeSwiper.swiperRef.slidePrev()"
            [attr.aria-label]="translations['previous']"
          >
            <i
              class="fa-solid"
              [ngClass]="{
                'fa-chevron-right': this.currentLang === 'ar',
                'fa-chevron-left': this.currentLang !== 'ar'
              }"
            ></i>
          </button>
          <button
            class="custom-next-arrow"
            (click)="carsTypeSwiper.swiperRef.slideNext()"
            [attr.aria-label]="translations['next']"
          >
            <i
              class="fa-solid"
              [ngClass]="{
                'fa-chevron-left': this.currentLang === 'ar',
                'fa-chevron-right': this.currentLang !== 'ar'
              }"
            ></i>
          </button>
        </div>
      </div>

      <swiper
        class="mx-2"
        #carsTypeSwiper
        [slidesPerView]="7"
        [slidesPerView]="7.5"
        [spaceBetween]="0"
        [navigation]="false"
        class="mySwiper"
        [breakpoints]="swiperConfig.breakpoints"
      >
        <ng-template
          swiperSlide
          *ngFor="let category of categoriesSection.categories"
        >
          <div
            class="card_cartype text-center"
            [routerLink]="['/', currentLang, 'category', category.slug]"
            [title]="'Browse ' + category.name + ' Cars'"
          >
            <div class="bg_img mb-2">
              <img
                [src]="
                  'https://admin.afandinacarrental.com/storage/' +
                  category.image
                "
                class="category-image d-block m-auto position-absolute top-0 start-50 translate-middle"
                width="150px"
                height="88"
                style="object-fit: contain"
                [alt]="'Car Category - ' + category.name"
                [title]="category.name"
                loading="lazy"
              />
            </div>
            <h3>{{ category.name }}</h3>
            <p>{{ category.car_count }}</p>
          </div>
        </ng-template>
      </swiper>
    </div>
  </section>

  <section class="cars_brand py-4" *ngIf="brandsSection">
    <div class="container-fluid">
      <div class="head d-flex align-items-center justify-content-between">
        <h2>{{ brandsSection.section_title }}</h2>
        <div class="buttons">
          <button
            class="custom-prev-arrow"
            (click)="carsBrandSwiper.swiperRef.slidePrev()"
            [attr.aria-label]="translations['previous']"
          >
            <i
              class="fa-solid"
              [ngClass]="{
                'fa-chevron-right': this.currentLang === 'ar',
                'fa-chevron-left': this.currentLang !== 'ar'
              }"
            ></i>
          </button>
          <button
            class="custom-next-arrow"
            (click)="carsBrandSwiper.swiperRef.slideNext()"
            [attr.aria-label]="translations['next']"
          >
            <i
              class="fa-solid"
              [ngClass]="{
                'fa-chevron-left': this.currentLang === 'ar',
                'fa-chevron-right': this.currentLang !== 'ar'
              }"
            ></i>
          </button>
        </div>
      </div>

      <swiper
        class="mx-2"
        #carsBrandSwiper
        [slidesPerView]="7"
        [spaceBetween]="0"
        [slidesPerView]="7.5"
        [navigation]="false"
        [autoplay]="{ delay: 1000, disableOnInteraction: false }"
        [loop]="true"
        class="mySwiper"
        [breakpoints]="swiperBrand.breakpoints"
      >
        <ng-template swiperSlide *ngFor="let brand of brandsSection.brands">
          <div
            class="card_cartype text-center card p-2"
            [routerLink]="['/', currentLang, 'brand', brand.slug]"
            [title]="'Browse ' + brand.name + ' Cars'"
          >
            <div
              class="d-flex align-items-center justify-content-center"
              style="height: 110px"
            >
              <img
                [src]="
                  'https://admin.afandinacarrental.com/storage/' + brand.image
                "
                class="d-block m-auto"
                width="100px"
                height="75px"
                [alt]="'Car Brand - ' + brand.name"
                [title]="'Car Brand - ' + brand.name"
                loading="lazy"
              />
            </div>

            <h3>{{ brand.name }}</h3>
            <p>{{ brand.car_count }}</p>
          </div>
        </ng-template>
      </swiper>
    </div>
  </section>

  <section class="car_only py-4" *ngIf="specialOffersSection">
    <div class="container-fluid">
      <div class="head">
        <div class="d-flex align-items-center justify-content-between mb-2">
          <h2>{{ specialOffersSection.special_offers_title }}</h2>
          <div class="buttons">
            <button
              class="custom-prev-arrow"
              (click)="carsSpecialOffer.swiperRef.slidePrev()"
              [attr.aria-label]="translations['previous']"
            >
              <i
                class="fa-solid"
                [ngClass]="{
                  'fa-chevron-right': this.currentLang === 'ar',
                  'fa-chevron-left': this.currentLang !== 'ar'
                }"
              ></i>
            </button>
            <button
              class="custom-next-arrow"
              (click)="carsSpecialOffer.swiperRef.slideNext()"
              [attr.aria-label]="translations['next']"
            >
              <i
                class="fa-solid"
                [ngClass]="{
                  'fa-chevron-left': this.currentLang === 'ar',
                  'fa-chevron-right': this.currentLang !== 'ar'
                }"
              ></i>
            </button>
          </div>
        </div>
        <p>
          {{ specialOffersSection.special_offers_section_paragraph }}
        </p>
      </div>
      <swiper
        [slidesPerView]="4.5"
        [spaceBetween]="0"
        [navigation]="false"
        [breakpoints]="swiperCard.breakpoints"
        [autoplay]="false"
        class="mx-2 mySwiper"
        #carsSpecialOffer
      >
        <ng-template
          swiperSlide
          *ngFor="let car of specialOffersSection.special_offers"
        >
          <app-card [carData]="car"></app-card>
        </ng-template>
      </swiper>
      <!-- <a routerLink="" class="View_All">{{ translations['view_all'] }}</a -->
    </div>
  </section>

  <section *ngIf="advertisements">
    <div class="container-fluid">
      <section class="banner" *ngFor="let ad of advertisements.advertisements">
        <ng-container *ngIf="ad.position_key == 'home_first'">
          <img
            [src]="
              'https://admin.afandinacarrental.com/storage/' + ad.web_image
            "
            class="d-none d-lg-block py-3"
            width="100%"
            height="100%"
            loading="lazy"
            [alt]="ad.title || 'Afandina Car Rental Advertisement'"
            [title]="ad.title || 'Afandina Car Rental Advertisement'"
          />
          <img
            [src]="
              'https://admin.afandinacarrental.com/storage/' + ad.mobile_image
            "
            class="d-block d-lg-none"
            width="100%"
            height="100%"
            loading="lazy"
            [alt]="ad.title || 'Afandina Car Rental Mobile Advertisement'"
            [title]="ad.title || 'Afandina Car Rental Mobile Advertisement'"
          />
        </ng-container>
      </section>
    </div>
  </section>

  <section class="car_only py-4" *ngIf="onlyOnAfandinaSection">
    <div class="container-fluid">
      <div class="head">
        <div class="d-flex align-items-center justify-content-between mb-2">
          <h2>{{ onlyOnAfandinaSection.car_only_section_title }}</h2>
          <div class="buttons">
            <button
              class="custom-prev-arrow"
              (click)="onlyOnAfandina.swiperRef.slidePrev()"
              [attr.aria-label]="translations['previous']"
            >
              <i
                class="fa-solid"
                [ngClass]="{
                  'fa-chevron-right': this.currentLang === 'ar',
                  'fa-chevron-left': this.currentLang !== 'ar'
                }"
              ></i>
            </button>
            <button
              class="custom-next-arrow"
              (click)="onlyOnAfandina.swiperRef.slideNext()"
              [attr.aria-label]="translations['next']"
            >
              <i
                class="fa-solid"
                [ngClass]="{
                  'fa-chevron-left': this.currentLang === 'ar',
                  'fa-chevron-right': this.currentLang !== 'ar'
                }"
              ></i>
            </button>
          </div>
        </div>
        <p>
          {{ onlyOnAfandinaSection.car_only_section_paragraph }}
        </p>
      </div>
      <swiper
        [autoplay]="false"
        class="mx-2"
        #onlyOnAfandina
        [slidesPerView]="4.5"
        [spaceBetween]="0"
        [navigation]="false"
        [breakpoints]="swiperCard.breakpoints"
        class="mySwiper"
      >
        <ng-template
          swiperSlide
          *ngFor="let car of onlyOnAfandinaSection.only_on_afandina"
        >
          <app-card [carData]="car"></app-card>
        </ng-template>
      </swiper>
      <!-- <a routerLink="" class="View_All">{{ translations['view_all'] }}</a -->
    </div>
  </section>
  <section *ngIf="advertisements">
    <div class="container-fluid">
      <section class="banner" *ngFor="let ad of advertisements.advertisements">
        <ng-container *ngIf="ad.position_key == 'home_second'">
          <img
            [src]="
              'https://admin.afandinacarrental.com/storage/' + ad.web_image
            "
            class="d-none d-lg-block py-3"
            width="100%"
            height="100%"
            loading="lazy"
            [alt]="ad.title || 'Afandina Car Rental Advertisement'"
            [title]="ad.title || 'Afandina Car Rental Advertisement'"
          />
          <img
            [src]="
              'https://admin.afandinacarrental.com/storage/' + ad.mobile_image
            "
            class="d-block d-lg-none"
            width="100%"
            height="100%"
            loading="lazy"
            [alt]="ad.title || 'Afandina Car Rental Mobile Advertisement'"
            [title]="ad.title || 'Afandina Car Rental Mobile Advertisement'"
          />
        </ng-container>
      </section>
    </div>
  </section>

  <section class="where_find_us_modern py-5">
    <div class="container-fluid">
      <!-- Section Header -->
      <div class="section-header text-center mb-5">
        <div class="header-badge">
          <i class="fas fa-map-marker-alt"></i>
          <span>{{ translations["our_locations"] || "Our Locations" }}</span>
        </div>
        <h2 class="section-title mb-3">
          {{
            where_find_us?.where_find_us_section_title ||
              translations["where_to_find_us"]
          }}
        </h2>
        <p class="section-description w-75 m-auto">
          {{
            where_find_us?.where_find_us_section_paragraph ||
              translations["find_us_description"]
          }}
        </p>
      </div>

      <!-- Map and Locations Container -->
      <div class="map-locations-wrapper">
        <div class="row g-4">
          <!-- Interactive Map -->
          <div class="col-lg-8">
            <div class="map-container">
              <!-- Static image placeholder replacing Google Map -->
              <img
                src="assets/images/logo/found-us.png"
                alt="Find us"
                title="Find Afandina locations"
                width="100%"
                height="600px"
                class="img-fluid w-100"
                loading="lazy"
              />
            </div>
          </div>

          <!-- Locations List -->
          <div class="col-lg-4">
            <div class="locations-sidebar">
              <h3 class="sidebar-title">
                {{ translations["all_branches"] || "All Branches" }}
              </h3>

              <div class="locations-list">
                <div
                  class="location-card"
                  *ngFor="
                    let location of where_find_us?.locations;
                    let i = index
                  "
                  [class.active]="selectedLocation?.id === location.id"
                  (click)="onMarkerClick(mapMarkers[i])"
                >
                  <div class="location-card-header">
                    <div class="location-icon">
                      <i class="fas fa-map-marker-alt"></i>
                    </div>
                    <div class="location-info">
                      <h4 class="location-name">{{ location.name }}</h4>
                      <p class="location-address">
                        <i class="fas fa-location-dot"></i>
                        {{ location.address }}
                      </p>
                    </div>
                  </div>

                  <div
                    class="location-card-body"
                    *ngIf="location.phone || location.email"
                  >
                    <div class="location-contact" *ngIf="location.phone">
                      <i class="fas fa-phone"></i>
                      <a [href]="'tel:' + location.phone">{{
                        location.phone
                      }}</a>
                    </div>
                    <div class="location-contact" *ngIf="location.email">
                      <i class="fas fa-envelope"></i>
                      <a [href]="'mailto:' + location.email">{{
                        location.email
                      }}</a>
                    </div>
                  </div>

                  <div class="location-card-footer">
                    <button
                      class="direction-btn"
                      (click)="
                        navigateToLocation(location); $event.stopPropagation()
                      "
                    >
                      <i class="fas fa-directions"></i>
                      <span>{{
                        translations["get_directions"] || "Get Directions"
                      }}</span>
                    </button>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Location Details Modal (appears when marker clicked) -->
      <div
        class="location-modal"
        *ngIf="selectedLocation"
        (click)="closeLocationDetails()"
      >
        <div class="location-modal-content" (click)="$event.stopPropagation()">
          <button class="modal-close" (click)="closeLocationDetails()">
            <i class="fas fa-times"></i>
          </button>

          <div class="modal-header">
            <div class="modal-icon">
              <i class="fas fa-map-marker-alt"></i>
            </div>
            <h3>{{ selectedLocation.name }}</h3>
          </div>

          <div class="modal-body">
            <div class="modal-detail">
              <i class="fas fa-location-dot"></i>
              <p>{{ selectedLocation.address }}</p>
            </div>
            <div class="modal-detail" *ngIf="selectedLocation.phone">
              <i class="fas fa-phone"></i>
              <a [href]="'tel:' + selectedLocation.phone">{{
                selectedLocation.phone
              }}</a>
            </div>
            <div class="modal-detail" *ngIf="selectedLocation.email">
              <i class="fas fa-envelope"></i>
              <a [href]="'mailto:' + selectedLocation.email">{{
                selectedLocation.email
              }}</a>
            </div>
          </div>

          <div class="modal-footer">
            <button
              class="modal-btn primary"
              (click)="navigateToLocation(selectedLocation)"
            >
              <i class="fas fa-directions"></i>
              <span>{{
                translations["get_directions"] || "Get Directions"
              }}</span>
            </button>
            <button
              class="modal-btn secondary"
              [routerLink]="['/', currentLang, 'contact']"
            >
              <i class="fas fa-phone"></i>
              <span>{{ translations["contact_us"] || "Contact Us" }}</span>
            </button>
          </div>
        </div>
      </div>

      <!-- Statistics Section -->
      <div class="location-stats mt-5">
        <div class="row text-center g-4">
          <div class="col-md-3 col-6">
            <div class="stat-card">
              <div class="stat-icon">
                <i class="fas fa-map-marked-alt"></i>
              </div>
              <h4 class="stat-number">
                {{ where_find_us?.locations?.length || 10 }}+
              </h4>
              <p class="stat-label">
                {{ translations["branches"] || "Branches" }}
              </p>
            </div>
          </div>
          <div class="col-md-3 col-6">
            <div class="stat-card">
              <div class="stat-icon">
                <i class="fas fa-city"></i>
              </div>
              <h4 class="stat-number">5+</h4>
              <p class="stat-label">{{ translations["cities"] || "Cities" }}</p>
            </div>
          </div>
          <div class="col-md-3 col-6">
            <div class="stat-card">
              <div class="stat-icon">
                <i class="fas fa-clock"></i>
              </div>
              <h4 class="stat-number">24/7</h4>
              <p class="stat-label">
                {{ translations["availability"] || "Available" }}
              </p>
            </div>
          </div>
          <div class="col-md-3 col-6">
            <div class="stat-card">
              <div class="stat-icon">
                <i class="fas fa-headset"></i>
              </div>
              <h4 class="stat-number">100%</h4>
              <p class="stat-label">
                {{ translations["support"] || "Support" }}
              </p>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>
  <section class="faq">
    <div class="container-fluid">
      <div class="row">
        <!-- FAQ Content Section -->
        <div class="col-md-6">
          <div class="faq-content-wrapper">
            <div class="head">
              <h2 class="mb-3 title-placeholder">
                {{ faqsSection?.section_title || "FAQ Section" }}
              </h2>
              <p class="mb-3 description-placeholder">
                {{
                  faqsSection?.section_description ||
                    "Get the best deals and special offers on your favorite cars."
                }}
              </p>
              <a
                [routerLink]="['/', currentLang, 'about-us']"
                class="View_All"
                [title]="translations['view_all'] || 'View All'"
                [attr.aria-label]="translations['view_all']"
              >
                {{ translations["view_all"] || "View All" }}
              </a>
            </div>
          </div>
        </div>

        <!-- FAQ Accordion Section -->
        <div class="col-md-6">
          <div class="accordion-wrapper">
            <p-accordion [activeIndex]="0" [multiple]="false">
              <ng-container *ngIf="faqsSection?.faqs; else loadingState">
                <p-accordionTab
                  *ngFor="let faq of faqsSection.faqs; let i = index"
                  [header]="faq.question"
                  [selected]="i === 0"
                  [transitionOptions]="'0.3s cubic-bezier(0.4, 0.0, 0.2, 1)'"
                >
                  <div class="faq-answer" [innerHTML]="faq.answer"></div>
                </p-accordionTab>
              </ng-container>

              <!-- Skeleton Loader -->
              <ng-template #loadingState>
                <div class="accordion-skeleton">
                  <div class="skeleton-item" *ngFor="let i of [1, 2, 3]"></div>
                </div>
              </ng-template>
            </p-accordion>
          </div>
        </div>
      </div>
    </div>
  </section>

  <section class="why_us py-4" *ngIf="whyChooseUsSection">
    <div class="container-fluid">
      <div class="row">
        <div class="col-lg-5">
          <div class="head">
            <h2>{{ whyChooseUsSection.why_choose_us_title }}</h2>
            <p
              class="mb-3"
              [innerHTML]="whyChooseUsSection.why_choose_us_section_paragraph"
            ></p>
            <a
              [routerLink]="['/', currentLang, 'about-us']"
              class="View_All m-0"
              title="view all"
              >{{ translations["view_all"] }}</a
            >
          </div>
        </div>
        <div class="col-lg-7">
          <div class="row" style="max-width: 800px; margin: auto">
            <div
              class="col-sm-6"
              *ngFor="let data of whyChooseUsSection.services"
            >
              <div class="card p-2 mb-2">
                <div class="head m-0 mb-2 d-flex align-items-center">
                  <img
                    src="../../../assets/images/icon/icon.svg"
                    width="35px"
                    height="35px"
                    [alt]="data.name + ' icon'"
                    [title]="data.name"
                    loading="lazy"
                  />
                  <h3 class="m-0 mx-2">{{ data.name }}</h3>
                </div>
                <div class="body">
                  <p>
                    {{ data.description }}
                  </p>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <section
    class="instagram-section py-5"
    *ngIf="instagramSection?.short_videos?.length"
  >
    <div class="container-fluid">
      <div class="section-header text-center mb-5">
        <div class="header-badge">
          <i class="fab fa-instagram"></i>
          <span>{{ translations["follow_us"] || "Follow Us" }}</span>
        </div>
        <h2 class="section-title">
          {{ translations["instagram_videos"] || "Instagram Videos" }}
        </h2>
        <p class="section-description">
          {{
            translations["instagram_description"] ||
              "Check out our latest adventures and behind-the-scenes moments"
          }}
        </p>
      </div>

      <div class="videos-grid">
        <div
          class="video-card"
          *ngFor="
            let videoItem of instagramSection.short_videos.slice(0, 3);
            let i = index
          "
          [class.video-card-featured]="i === 0"
        >
          <div class="video-wrapper">
            <video
              #videoPlayer
              muted
              playsinline
              loop
              [src]="
                'https://admin.afandinacarrental.com/storage/' + videoItem.image
              "
              class="video-element"
              loading="lazy"
              width="100%"
              height="100%"
            ></video>

            <div class="video-overlay">
              <button
                class="play-button"
                [attr.aria-label]="
                  isPlaying[videoItem.id]
                    ? translations['pause_video']
                    : translations['play_video']
                "
                [title]="
                  isPlaying[videoItem.id]
                    ? translations['pause_video']
                    : translations['play_video']
                "
                (click)="togglePlayPause(videoPlayer, videoItem)"
              >
                <i
                  [class]="
                    isPlaying[videoItem.id] ? 'fas fa-pause' : 'fas fa-play'
                  "
                  aria-hidden="true"
                ></i>
              </button>

              <div class="video-info">
                <div class="video-stats">
                  <span class="stat-item">
                    <i class="fas fa-heart"></i>
                    <span>{{ videoItem.likes || "1.2K" }}</span>
                  </span>
                  <span class="stat-item">
                    <i class="fas fa-comment"></i>
                    <span>{{ videoItem.comments || "89" }}</span>
                  </span>
                </div>
              </div>
            </div>

            <div class="video-number">
              <span>0{{ i + 1 }}</span>
            </div>
          </div>

          <div class="video-details">
            <h3 class="video-title">
              {{ videoItem.title || translations["video"] + " " + (i + 1) }}
            </h3>
            <p class="video-date">
              {{ videoItem.created_at || translations["recent"] }}
            </p>
          </div>
        </div>
      </div>

      <div class="section-footer text-center mt-5">
        <a
          [href]="instagramSection.short_videos"
          target="_blank"
          class="instagram-button"
          [title]="translations['view_instagram'] || 'View on Instagram'"
        >
          <i class="fab fa-instagram"></i>
          <span>{{
            translations["view_all_instagram"] || "View All on Instagram"
          }}</span>
          <i class="fas fa-arrow-right"></i>
        </a>
      </div>
    </div>
  </section>

  <section *ngIf="advertisements">
    <div class="container-fluid">
      <section class="banner" *ngFor="let ad of advertisements.advertisements">
        <ng-container *ngIf="ad.position_key == 'home_third'">
          <img
            [src]="
              'https://admin.afandinacarrental.com/storage/' + ad.web_image
            "
            class="d-none d-lg-block py-3"
            width="100%"
            height="100%"
            loading="lazy"
            [alt]="ad.title || 'Afandina Car Rental Advertisement'"
            [title]="ad.title || 'Afandina Car Rental Advertisement'"
          />
          <img
            [src]="
              'https://admin.afandinacarrental.com/storage/' + ad.mobile_image
            "
            class="d-block d-lg-none"
            width="100%"
            height="100%"
            loading="lazy"
            [alt]="ad.title || 'Afandina Car Rental Mobile Advertisement'"
            [title]="ad.title || 'Afandina Car Rental Mobile Advertisement'"
          />
        </ng-container>
      </section>
    </div>
  </section>

  <section class="car_only py-4" *ngIf="blogs">
    <div class="container-fluid">
      <div class="head">
        <div class="d-flex align-items-center justify-content-between mb-2">
          <h2>{{ blogs.section_title }}</h2>
          <div class="buttons">
            <button
              class="custom-prev-arrow"
              (click)="blogCard.swiperRef.slidePrev()"
              [attr.aria-label]="translations['previous']"
            >
              <i
                class="fa-solid"
                [ngClass]="{
                  'fa-chevron-right': this.currentLang === 'ar',
                  'fa-chevron-left': this.currentLang !== 'ar'
                }"
              ></i>
            </button>
            <button
              class="custom-next-arrow"
              (click)="blogCard.swiperRef.slideNext()"
              [attr.aria-label]="translations['next']"
            >
              <i
                class="fa-solid"
                [ngClass]="{
                  'fa-chevron-left': this.currentLang === 'ar',
                  'fa-chevron-right': this.currentLang !== 'ar'
                }"
              ></i>
            </button>
          </div>
        </div>
      </div>
      <swiper
        class="mx-2"
        #blogCard
        [slidesPerView]="4"
        [spaceBetween]="10"
        [navigation]="false"
        [breakpoints]="swiperBlog.breakpoints"
        class="mySwiper"
      >
        <ng-template swiperSlide *ngFor="let blog of blogs.blogs">
          <app-card-blog [blogData]="blog"></app-card-blog>
        </ng-template>
      </swiper>

      <a
        [routerLink]="['/', currentLang, 'blogs']"
        class="View_All read_more"
        [title]="translations['view_all']"
        >{{ translations["view_all"] }}</a
      >
    </div>
  </section>
</main>
